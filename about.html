<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us - SAROJ VANDANA WOMEN & CHILDREN EMPOWERMENT SOCIETY</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mobile-responsive.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2 class="org-name">SAROJ VANDANA WOMEN AND CHILDREN EMPOWERMENT SOCIETY</h2>
            </div>
            <button class="mobile-menu-toggle" style="display: none;" aria-label="Toggle mobile menu">
                ‚ò∞
            </button>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="/" class="nav-link" data-en="Home" data-hi="‡§π‡•ã‡§Æ">Home</a>
                </li>
                <li class="nav-item">
                    <a href="/about" class="nav-link active" data-en="About" data-hi="‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç">About</a>
                </li>
                <li class="nav-item">
                    <a href="/programs" class="nav-link" data-en="Programs" data-hi="‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ">Programs</a>
                </li>
                <li class="nav-item">
                    <a href="/contact" class="nav-link" data-en="Contact" data-hi="‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï">Contact</a>
                </li>
                <li class="nav-item">
                    <button id="langToggle" class="lang-toggle">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <main>
        <section class="about-mission" style="background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%); padding: 3rem 0;">
            <div class="container">
                <div style="max-width: 1000px; margin: 0 auto; text-align: center;">
                    <h2 style="font-size: 2.2rem; color: white; margin-bottom: 1.5rem; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);" data-en="Our Story" data-hi="‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä">Our Story</h2>
                    <p style="font-size: 1.1rem; color: rgba(255,255,255,0.95); line-height: 1.8; margin: 0; text-shadow: 1px 1px 3px rgba(0,0,0,0.3); max-width: 900px; margin: 0 auto;" data-en="Established in 2009 under the Rajasthan Societies Registration Act of 1958, our organization is dedicated to empowering women by helping them become self-reliant. We primarily focus on women who are unskilled and often confined to household responsibilities, either due to lack of opportunity or social stigma. As a result, their talents remain untapped and underutilized. Our mission is to uncover this hidden potential and bring smiles to their faces by providing doorstep training in various skills, enabling them to earn and achieve financial independence." data-hi="‡§∞‡§æ‡§ú‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡•ã‡§∏‡§æ‡§Ø‡§ü‡•Ä ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§Ö‡§ß‡§ø‡§®‡§ø‡§Ø‡§Æ 1958 ‡§ï‡•á ‡§§‡§π‡§§ 2009 ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§, ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§ó‡§†‡§® ‡§Æ‡§π‡§ø‡§≤‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§Ü‡§§‡•ç‡§Æ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞ ‡§¨‡§®‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§ï‡•á ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§Æ‡§∞‡•ç‡§™‡§ø‡§§ ‡§π‡•à‡•§ ‡§π‡§Æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§â‡§® ‡§Æ‡§π‡§ø‡§≤‡§æ‡§ì‡§Ç ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§§‡•á ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§Ö‡§ï‡•Å‡§∂‡§≤ ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Ö‡§ï‡•ç‡§∏‡§∞ ‡§Ö‡§µ‡§∏‡§∞ ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§Ø‡§æ ‡§∏‡§æ‡§Æ‡§æ‡§ú‡§ø‡§ï ‡§ï‡§≤‡§Ç‡§ï ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ò‡§∞‡•á‡§≤‡•Ç ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§§‡§ï ‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§∞‡§π‡§§‡•Ä ‡§π‡•à‡§Ç‡•§ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™, ‡§â‡§®‡§ï‡•Ä ‡§™‡•ç‡§∞‡§§‡§ø‡§≠‡§æ‡§è‡§Ç ‡§Ö‡§µ‡§ø‡§ï‡§∏‡§ø‡§§ ‡§î‡§∞ ‡§ï‡§Æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§Æ‡•á‡§Ç ‡§∞‡§π ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§ ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§Æ‡§ø‡§∂‡§® ‡§á‡§∏ ‡§õ‡•Å‡§™‡•Ä ‡§π‡•Å‡§à ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§ï‡•ã ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§ï‡§∞‡§®‡§æ ‡§î‡§∞ ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§ï‡•å‡§∂‡§≤‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§¶‡•ç‡§µ‡§æ‡§∞-‡§™‡§∞-‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§ï‡•á ‡§â‡§®‡§ï‡•á ‡§ö‡•á‡§π‡§∞‡•ã‡§Ç ‡§™‡§∞ ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§® ‡§≤‡§æ‡§®‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§µ‡•á ‡§ï‡§Æ‡§æ ‡§∏‡§ï‡•á‡§Ç ‡§î‡§∞ ‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞‡§§‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡•á‡§Ç‡•§">Established in 2009 under the Rajasthan Societies Registration Act of 1958, our organization is dedicated to empowering women by helping them become self-reliant. We primarily focus on women who are unskilled and often confined to household responsibilities, either due to lack of opportunity or social stigma. As a result, their talents remain untapped and underutilized. Our mission is to uncover this hidden potential and bring smiles to their faces by providing doorstep training in various skills, enabling them to earn and achieve financial independence.</p>
                </div>
            </div>
        </section>



        <section class="team" style="padding: 3rem 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
            <div class="container">
                <h2 style="font-size: 2.5rem; font-weight: 700; text-align: center; margin-bottom: 2rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);" data-en="Our Team" data-hi="‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ü‡•Ä‡§Æ">Our Team</h2>
                
                <!-- Leadership Team -->
                <div class="team-category" style="margin-bottom: 2.5rem;">
                    <h3 style="font-size: 1.3rem; font-weight: 600; text-align: center; margin-bottom: 1.5rem; color: rgba(255,255,255,0.9);" data-en="Leadership" data-hi="‡§®‡•á‡§§‡•É‡§§‡•ç‡§µ">Leadership</h3>
                    <div id="leadershipGrid" class="team-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; max-width: 1200px; margin: 0 auto;">
                        <!-- Leadership members will be dynamically generated here -->
                    </div>
                </div>
                
                <!-- Managers Team -->
                <div class="team-category" style="margin-bottom: 2.5rem;">
                    <h3 style="font-size: 1.3rem; font-weight: 600; text-align: center; margin-bottom: 1.5rem; color: rgba(255,255,255,0.9);" data-en="Managers" data-hi="‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ï">Managers</h3>
                    <div id="managersGrid" class="team-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; max-width: 1200px; margin: 0 auto;">
                        <!-- Manager members will be dynamically generated here -->
                    </div>
                </div>
                
                <!-- Trainers Team -->
                <div class="team-category" style="margin-bottom: 2.5rem;">
                    <h3 style="font-size: 1.3rem; font-weight: 600; text-align: center; margin-bottom: 1.5rem; color: rgba(255,255,255,0.9);" data-en="Trainers/Instructors" data-hi="‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï/‡§Ö‡§®‡•Å‡§¶‡•á‡§∂‡§ï">Trainers/Instructors</h3>
                    <div id="trainersGrid" class="team-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; max-width: 1200px; margin: 0 auto;">
                        <!-- Trainer members will be dynamically generated here -->
                    </div>
                </div>
                
                <!-- Members Team -->
                <div class="team-category">
                    <h3 style="font-size: 1.3rem; font-weight: 600; text-align: center; margin-bottom: 1.5rem; color: rgba(255,255,255,0.9);" data-en="Members" data-hi="‡§∏‡§¶‡§∏‡•ç‡§Ø">Members</h3>
                    <div id="membersGrid" class="team-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; max-width: 1200px; margin: 0 auto;">
                        <!-- General members will be dynamically generated here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bio Modal -->
    <div id="bioModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center;">
        <div id="bioModalContent" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; max-width: 500px; width: 90%; margin: 2rem; padding: 2rem; position: relative; color: white; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
            <button id="closeBioModalBtn" style="position: absolute; top: 1rem; right: 1rem; background: rgba(255,255,255,0.2); border: none; border-radius: 50%; width: 35px; height: 35px; color: white; cursor: pointer; font-size: 1.2rem; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease;">&times;</button>
            
            <div style="text-align: center;">
                <img id="bioModalImage" style="width: 120px; height: 120px; border-radius: 50%; border: 4px solid rgba(255,255,255,0.3); object-fit: cover; margin-bottom: 1.5rem;">
                <h2 id="bioModalName" style="font-size: 2rem; font-weight: 700; margin: 0 0 0.5rem 0;"></h2>
                <h3 id="bioModalDesignation" style="font-size: 1.3rem; font-weight: 600; margin: 0 0 1.5rem 0; color: rgba(255,255,255,0.9);"></h3>
                
                <div style="text-align: left; background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 15px; backdrop-filter: blur(10px);">
                    <h4 style="margin: 0 0 1rem 0; color: rgba(255,255,255,0.9); font-size: 1.1rem;">About</h4>
                    <p id="bioModalText" style="line-height: 1.6; margin: 0; color: rgba(255,255,255,0.85);"></p>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="org-name-footer">SAROJ VANDANA WOMEN AND CHILDREN EMPOWERMENT SOCIETY</h3>
                    <p>Empowering women and children through education, healthcare, and advocacy for a more equitable society.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="/about">About Us</a></li>
                        <li><a href="/programs">Programs</a></li>
                        <li><a href="/contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <p>Email: sarojvandana2022@gmail.com</p>
                    <p>Phone: +91 87410 61834</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="org-name-copyright">&copy; 2024 SAROJ VANDANA WOMEN AND CHILDREN EMPOWERMENT SOCIETY. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/api-config.js"></script>
    <script src="js/script.js"></script>
    
    <!-- Enhanced animations and interactions -->
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .about-text:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        
        .about-image:hover img {
            transform: scale(1.05);
        }
        
        .team-member:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }
        
        .team-member:hover img {
            transform: scale(1.1);
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .hero-about h1 {
                font-size: 2.2rem !important;
            }
            
            .hero-about p {
                font-size: 1.1rem !important;
            }
            
            .about-grid {
                grid-template-columns: 1fr !important;
                gap: 2rem !important;
            }
            
            .about-text, .about-image {
                padding: 2rem !important;
            }
            
            .team-grid {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
            }
        }
        
        @media (max-width: 480px) {
            .hero-about h1 {
                font-size: 1.8rem !important;
            }
            
            .hero-about p {
                font-size: 1rem !important;
            }
        }
    </style>
    
    <script>
        // Intersection Observer for scroll animations
        document.addEventListener('DOMContentLoaded', function() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            
            // Observe elements for animation
            document.querySelectorAll('.about-text, .about-image, .team-member').forEach(element => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(30px)';
                element.style.transition = 'all 0.8s ease-out';
                observer.observe(element);
            });
            
            // Add smooth scrolling
            document.documentElement.style.scrollBehavior = 'smooth';
            
            // Load images from S3
            setTimeout(loadTeamImages, 500);
        });

        // Dynamic Team Loading from S3
        async function loadTeamImages() {
            try {
                console.log('Loading team images from S3...');
                // Use API Gateway for production, local API for development
                const apiURL = window.location.hostname === 'localhost' 
                    ? '/api/images?category=team'
                    : 'https://klbot0zc8l.execute-api.eu-north-1.amazonaws.com/prod/images?category=team';
                const response = await fetch(apiURL);
                const data = await response.json();
                
                if (data.success && data.images.length > 0) {
                    console.log('Found team images:', data.images.length);
                    
                    // Clear existing team grids
                    document.getElementById('leadershipGrid').innerHTML = '';
                    document.getElementById('managersGrid').innerHTML = '';
                    document.getElementById('trainersGrid').innerHTML = '';
                    document.getElementById('membersGrid').innerHTML = '';
                    
                    // Categorize team members
                    const leadership = [];
                    const managers = [];
                    const trainers = [];
                    const members = [];
                    
                    // Process each image and categorize
                    data.images.forEach((image) => {
                        const parsedInfo = parseTeamMemberInfo(image);
                        const designation = parsedInfo.designation.toLowerCase();
                        
                        if (isLeadership(designation)) {
                            leadership.push({...parsedInfo, image});
                        } else if (isManager(designation)) {
                            managers.push({...parsedInfo, image});
                        } else if (isTrainer(designation)) {
                            trainers.push({...parsedInfo, image});
                        } else {
                            members.push({...parsedInfo, image});
                        }
                    });
                    
                    // Sort leadership by hierarchy - President first
                    leadership.sort((a, b) => {
                        const orderA = getLeadershipOrder(a.designation);
                        const orderB = getLeadershipOrder(b.designation);
                        console.log(`Sorting: ${a.originalDesignation} (${orderA}) vs ${b.originalDesignation} (${orderB})`);
                        return orderA - orderB;
                    });
                    
                    // Create team member cards for each category
                    leadership.forEach((member, index) => {
                        createTeamMemberCard(member.originalName || 'Team Member', 
                                           member.originalDesignation || 'Position', 
                                           member.bio || '',
                                           member.image.url, index, 'leadershipGrid');
                    });
                    
                    managers.forEach((member, index) => {
                        createTeamMemberCard(member.originalName || 'Team Member', 
                                           member.originalDesignation || 'Position', 
                                           member.bio || '',
                                           member.image.url, index, 'managersGrid');
                    });
                    
                    trainers.forEach((member, index) => {
                        createTeamMemberCard(member.originalName || 'Team Member', 
                                           member.originalDesignation || 'Position', 
                                           member.bio || '',
                                           member.image.url, index, 'trainersGrid');
                    });
                    
                    members.forEach((member, index) => {
                        createTeamMemberCard(member.originalName || 'Team Member', 
                                           member.originalDesignation || 'Position', 
                                           member.bio || '',
                                           member.image.url, index, 'membersGrid');
                    });
                    
                } else {
                    console.log('No team images found in S3, showing placeholder message');
                    showNoTeamMessage();
                }
            } catch (error) {
                console.error('Error loading team images:', error);
                console.log('Fallback: Showing error message');
                showNoTeamMessage();
            }
        }

        // Parse team member information from image description and filename
        function parseTeamMemberInfo(image) {
            const description = image.description.trim();
            const filename = image.originalName.toLowerCase().trim();
            
            let name = '';
            let designation = '';
            let bio = '';
            
            // Check if description contains bio separator (using | or ||)
            const bioSeparators = [' || ', ' | Bio: ', ' | bio: ', ' | BIO: '];
            let mainPart = description;
            
            // Extract bio if present
            for (let bioSep of bioSeparators) {
                if (description.includes(bioSep)) {
                    const bioParts = description.split(bioSep);
                    mainPart = bioParts[0].trim();
                    bio = bioParts[1] ? bioParts[1].trim() : '';
                    break;
                }
            }
            
            // If no explicit bio separator, check for pattern like "Position - Name. Bio text here"
            if (!bio && mainPart.includes('.')) {
                const sentenceParts = mainPart.split('.');
                if (sentenceParts.length >= 2) {
                    const firstSentence = sentenceParts[0].trim();
                    const possibleBio = sentenceParts.slice(1).join('.').trim();
                    
                    // If first sentence has position-name pattern, rest is bio
                    if (firstSentence.includes(' - ') || firstSentence.includes(' | ')) {
                        mainPart = firstSentence;
                        bio = possibleBio;
                    }
                }
            }
            
            // Parse name and designation from main part
            const mainPartLower = mainPart.toLowerCase();
            
            if (mainPartLower) {
                // Common separators for name/designation
                const separators = [' - ', ' | ', ', ', ' '];
                let parts = [mainPartLower];
                
                // Try to split by separators
                for (let sep of separators) {
                    if (mainPartLower.includes(sep)) {
                        parts = mainPartLower.split(sep);
                        break;
                    }
                }
                
                // Parse different formats - prioritize designation first format
                if (parts.length >= 2) {
                    // Format: "Designation - Name" (preferred) or "Name - Designation"
                    const part1 = parts[0].trim();
                    const part2 = parts[1].trim();
                    
                    // Check if first part is designation (preferred format: "Vice President - Nirmala Devi")
                    if (isDesignation(part1)) {
                        designation = part1;
                        name = part2;
                    } else if (isDesignation(part2)) {
                        // Fallback: "Nirmala Devi - Vice President" format
                        name = part1;
                        designation = part2;
                    } else {
                        // If neither is a known designation, assume first is designation
                        designation = part1;
                        name = part2;
                    }
                } else {
                    // Single part - try to extract both
                    const words = mainPartLower.split(' ');
                    
                    for (let word of words) {
                        if (isDesignation(word)) {
                            designation = word;
                        } else if (word.length > 2) { // Assume names are longer than 2 chars
                            name = word;
                        }
                    }
                }
            }
            
            // Fallback: Extract from filename if description parsing failed
            if (!name || !designation) {
                const filenameParts = filename.replace(/\.[^/.]+$/, '').split(/[-_\s]/); // Remove extension and split
                
                for (let part of filenameParts) {
                    if (isDesignation(part) && !designation) {
                        designation = part;
                    } else if (part.length > 2 && !name) {
                        name = part;
                    }
                }
            }
            
            // Apply proper title case formatting
            const formattedName = toTitleCase(name);
            const formattedDesignation = toTitleCase(designation);
            
            console.log(`Parsed: "${image.description}" ‚Üí Name: "${formattedName}", Designation: "${formattedDesignation}", Bio: "${bio || 'None'}"`);
            
            return {
                name: name.toLowerCase(),
                designation: designation.toLowerCase(),
                originalName: formattedName,
                originalDesignation: formattedDesignation,
                bio: bio
            };
        }

        // Convert text to proper title case
        function toTitleCase(text) {
            if (!text) return '';
            
            // Words that should stay lowercase (articles, prepositions, etc.)
            const lowercaseWords = ['of', 'the', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'with'];
            
            return text.toLowerCase()
                .split(' ')
                .map((word, index) => {
                    // First word is always capitalized
                    if (index === 0) {
                        return word.charAt(0).toUpperCase() + word.slice(1);
                    }
                    // Check if word should stay lowercase
                    if (lowercaseWords.includes(word)) {
                        return word;
                    }
                    // Capitalize first letter
                    return word.charAt(0).toUpperCase() + word.slice(1);
                })
                .join(' ');
        }

        // Check if a word is a designation
        function isDesignation(word) {
            const designations = [
                'president', 'vice president', 'secretary', 'treasurer', 'chairman', 'chairwoman', 
                'director', 'manager', 'coordinator', 'advisor', 'member', 'vice-president',
                'trainer', 'instructor', 'teacher', 'yoga trainer',
                '‡§Ö‡§ß‡•ç‡§Ø‡§ï‡•ç‡§∑', '‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä', '‡§ï‡•ã‡§∑‡§æ‡§ß‡•ç‡§Ø‡§ï‡•ç‡§∑' // Hindi designations
            ];
            return designations.includes(word.toLowerCase());
        }

        // Check if designation is leadership
        function isLeadership(designation) {
            const leadershipRoles = [
                'president', 'vice president', 'vice-president', 'secretary', 'treasurer', 
                'chairman', 'chairwoman', 'director',
                '‡§Ö‡§ß‡•ç‡§Ø‡§ï‡•ç‡§∑', '‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä', '‡§ï‡•ã‡§∑‡§æ‡§ß‡•ç‡§Ø‡§ï‡•ç‡§∑'
            ];
            return leadershipRoles.some(role => designation.includes(role));
        }

        // Check if designation is manager
        function isManager(designation) {
            const managerRoles = [
                'manager', '‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ï'
            ];
            return managerRoles.some(role => designation.includes(role));
        }

        // Check if designation is trainer
        function isTrainer(designation) {
            const trainerRoles = [
                'trainer', 'instructor', 'teacher', 'coach', 'yoga trainer'
            ];
            return trainerRoles.some(role => designation.includes(role));
        }

        // Get leadership order for sorting
        function getLeadershipOrder(designation) {
            const designationLower = designation.toLowerCase();
            
            // Check for exact matches first, then partial matches
            if (designationLower.includes('president') && !designationLower.includes('vice')) {
                console.log(`Found President: ${designation}`);
                return 1;  // President appears first
            }
            if (designationLower.includes('vice president') || designationLower.includes('vice-president')) {
                console.log(`Found Vice President: ${designation}`);
                return 2;
            }
            if (designationLower.includes('secretary')) {
                console.log(`Found Secretary: ${designation}`);
                return 3;
            }
            if (designationLower.includes('treasurer')) {
                console.log(`Found Treasurer: ${designation}`);
                return 4;
            }
            if (designationLower.includes('chairman') || designationLower.includes('chairwoman')) {
                console.log(`Found Chairman/Chairwoman: ${designation}`);
                return 5;
            }
            if (designationLower.includes('director')) {
                console.log(`Found Director: ${designation}`);
                return 6;
            }
            
            console.log(`Unknown leadership role: ${designation}`);
            return 999; // Default for unknown roles
        }

        // Create a team member card dynamically
        function createTeamMemberCard(name, designation, bio, imageUrl, index, gridId = 'teamGrid') {
            const teamGrid = document.getElementById(gridId);
            
            // Create team member card HTML
            const memberCard = document.createElement('div');
            memberCard.className = 'team-member';
            memberCard.style.cssText = 'background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 1.5rem 1rem; border-radius: 20px; text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease; border: 1px solid rgba(255,255,255,0.2); opacity: 0; transform: translateY(30px); position: relative;';
            
            // Create view bio button if bio exists
            const viewBioButton = bio ? `
                <button class="view-bio-btn" 
                    data-name="${name}" 
                    data-designation="${designation}" 
                    data-bio="${bio.replace(/"/g, '&quot;')}" 
                    data-image="${imageUrl}"
                    style="
                        position: absolute; 
                        top: 0.8rem; 
                        right: 0.8rem; 
                        background: linear-gradient(135deg, #ff6b6b, #ee5a52); 
                        border: none; 
                        border-radius: 15px; 
                        padding: 0.3rem 0.6rem; 
                        display: flex; 
                        align-items: center; 
                        justify-content: center; 
                        cursor: pointer; 
                        transition: all 0.3s ease;
                        color: white;
                        font-size: 0.7rem;
                        font-weight: 600;
                        text-transform: uppercase;
                        letter-spacing: 0.3px;
                        box-shadow: 0 3px 10px rgba(255, 107, 107, 0.3);
                    " 
                    title="View Biography">
                    üìñ BIO
                </button>
            ` : '';
            
            memberCard.innerHTML = `
                ${viewBioButton}
                <div class="member-photo" style="margin-bottom: 1rem;">
                    <img src="${imageUrl}" alt="${name} portrait" style="width: 150px; height: 150px; border-radius: 50%; border: 3px solid rgba(255,255,255,0.3); object-fit: cover; transition: transform 0.3s ease; opacity: 1;">
                </div>
                <h3 class="member-designation" style="font-size: 1rem; font-weight: 600; margin-bottom: 0.3rem; color: white;" data-en="${designation}" data-hi="${designation}">${designation}</h3>
                <p class="member-name" style="font-size: 1.2rem; font-weight: 700; color: rgba(255,255,255,0.9); margin: 0;" data-en="${name}" data-hi="${name}">${name}</p>
            `;
            
            teamGrid.appendChild(memberCard);
            
            // Setup bio button event listeners and hover effects
            const bioBtn = memberCard.querySelector('.view-bio-btn');
            if (bioBtn) {
                // Click event listener
                bioBtn.addEventListener('click', function() {
                    const memberName = this.getAttribute('data-name');
                    const memberDesignation = this.getAttribute('data-designation');
                    const memberBio = this.getAttribute('data-bio');
                    const memberImage = this.getAttribute('data-image');
                    openBioModal(memberName, memberDesignation, memberBio, memberImage);
                });
                
                // Hover effects
                bioBtn.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05)';
                    this.style.boxShadow = '0 6px 20px rgba(255, 107, 107, 0.4)';
                });
                
                bioBtn.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                    this.style.boxShadow = '0 4px 15px rgba(255, 107, 107, 0.3)';
                });
            }
            
            // Animate card appearance with delay
            setTimeout(() => {
                memberCard.style.opacity = '1';
                memberCard.style.transform = 'translateY(0)';
                memberCard.style.transition = 'all 0.8s ease-out';
            }, index * 200);
            
            // Handle image loading
            const img = memberCard.querySelector('img');
            img.onload = function() {
                this.style.opacity = '1';
                console.log(`Successfully loaded image for ${name} (${designation})`);
            };
            img.onerror = function() {
                this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzlDQTNBRiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfkZQ8L3RleHQ+PC9zdmc+';
                this.style.opacity = '1';
                console.error(`Failed to load image for ${name}, using placeholder`);
            };
            
            console.log(`Created team member card: ${name} (${designation})${bio ? ' with bio button' : ''}`);
        }
        
        // Show message when no team members are found
        function showNoTeamMessage() {
            const leadershipGrid = document.getElementById('leadershipGrid');
            leadershipGrid.innerHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 2rem; color: rgba(255,255,255,0.8);">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üë•</div>
                    <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem;">No Team Members Yet</h3>
                    <p style="font-size: 0.9rem;">Team member photos will appear here once uploaded through the admin panel.</p>
                </div>
            `;
            
            // Hide all other sections if no data
            document.getElementById('managersGrid').innerHTML = '';
            document.getElementById('trainersGrid').innerHTML = '';
            document.getElementById('membersGrid').innerHTML = '';
        }



        // Bio Modal Functions
        function openBioModal(name, designation, bio, imageUrl) {
            console.log('Opening bio modal for:', name, designation, bio);
            
            document.getElementById('bioModalImage').src = imageUrl;
            document.getElementById('bioModalName').textContent = name;
            document.getElementById('bioModalDesignation').textContent = designation;
            document.getElementById('bioModalText').textContent = bio || 'No bio available.';
            
            const modal = document.getElementById('bioModal');
            modal.style.display = 'flex';
            
            // Add smooth fade in animation
            modal.style.opacity = '0';
            setTimeout(() => {
                modal.style.opacity = '1';
                modal.style.transition = 'opacity 0.3s ease';
            }, 10);
            
            console.log('Bio modal should be open now');
        }

        function closeBioModal() {
            const modal = document.getElementById('bioModal');
            modal.style.opacity = '0';
            modal.style.transition = 'opacity 0.3s ease';
            
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // Setup bio modal event listeners
        function setupBioModalEventListeners() {
            const modal = document.getElementById('bioModal');
            const closeBtn = document.getElementById('closeBioModalBtn');
            
            // Close button click
            closeBtn.addEventListener('click', closeBioModal);
            
            // Close button hover effects
            closeBtn.addEventListener('mouseenter', function() {
                this.style.background = 'rgba(255,255,255,0.3)';
            });
            
            closeBtn.addEventListener('mouseleave', function() {
                this.style.background = 'rgba(255,255,255,0.2)';
            });
            
            // Close modal when clicking outside the content
            modal.addEventListener('click', function(event) {
                if (event.target === modal) {
                    closeBioModal();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && modal.style.display === 'flex') {
                    closeBioModal();
                }
            });
        }

        // Initialize modal event listeners when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupBioModalEventListeners();
        });
    </script>
</body>
</html>